#!/bin/sh
# Pre-commit hook: Build and stage dist/ folder

# Check if there are any changes outside the playground directory
STAGED_FILES=$(git diff --cached --name-only | grep -v "^playground/")

if [ -z "$STAGED_FILES" ]; then
  echo "â­ï¸  Only playground files changed, skipping build..."
  exit 0
fi

echo "ğŸ”¨ Running pre-commit: building project..."
npm run build

echo "ğŸ“¦ Staging dist/ folder..."
git add dist/

echo "âœ… Pre-commit complete"
